# こんだてLoop MVP初期リリース要件（2026-02-06 更新）

## 全体方針
- MVPは**献立表とレシピ帳の2画面**に絞る。
- **レシピカタログ / マイページはMVP対象外**（後日追加）。
- **認証（ログイン/新規登録）と通知は含む**。
- 献立表・レシピ帳は**フル機能を提供**。
- モーダルの**発火タイミングはプロト準拠**。

---

## 画面構成

| 画面 | MVP | 備考 |
|------|-----|------|
| 献立表 | ✅ | フル機能 |
| レシピ帳 | ✅ | フル機能 |
| 認証（ログイン/新規登録） | ✅ | Cognito |
| 通知 | ✅ | モーダル通知の履歴 |
| レシピカタログ | ❌ | 後日追加 |
| マイページ | ❌ | 後日追加 |

---

## 共通UI

### ボトムナビ
- **2タブ構成**: 献立表 / レシピ帳

### ヘッダー
```
┌─────────────────────────────┐
│ 🍳 こんだてLoop    🧊 ☰●   │
└─────────────────────────────┘
                   冷蔵庫 メニュー
```

- **冷蔵庫アイコン**: 冷蔵庫モーダルを開く
- **ハンバーガーメニュー**: 通知 / アカウント情報 / ログアウト
- **未読バッジ**: 未読通知があればメニューアイコンに赤ドット表示

---

## 献立表（ホーム）
- 献立セットを登録すると**買い物リスト自動生成**。
  - 生成基準：**セットに必要な食材**かつ**冷蔵庫に無いもの**。
  - **単位が一致する場合**：冷蔵庫から差し引いて不足分のみリストに追加。
  - **単位が異なる場合**：差し引かず、「冷蔵庫にある食材」セクションに参考表示。
- 買い物リストで「買った」→ **冷蔵庫へ反映**。
- 買い物リスト/冷蔵庫は**手動追加**が可能。
- 冷蔵庫からの**削除**が可能、**削除履歴**は冷蔵庫内で閲覧できる。
- **次の献立**を設定できる。

### 買い物リストの「冷蔵庫にある食材」セクション
- 買い物リストと冷蔵庫に**同じ食材が存在するが単位が異なる場合**に表示。
- 例：買い物リストに「キャベツ 1/2個」、冷蔵庫に「キャベツ 200g」→ 単位不一致
- **追加セクションの下**に「🧊 冷蔵庫にある食材」として表示。
- ユーザーへの参考情報として提示（操作対象外）。

---

## レシピ帳（プライベート）
- **レシピ / レシピセット**の2タブで閲覧。
- **フリータグを基準にカテゴリ分け**（カテゴリごとのページ）。
- 同一レシピが**複数カテゴリに出る**想定。
- **カテゴリはユーザーが追加/編集可能**。
- 検索 / 絞り込み / 並び替えは初期から実装。

---

## 公式スターターセット

### 概要
- MVPでは**公式が提供するスターターセット**が初期状態でレシピ帳にプリセットされる。
- ユーザーはアプリ起動直後に「セットを選ぶ」で献立を始められる。

### データ
- **12セット / 約80レシピ**（詳細はデータ投入時に決定）
- 「公式」タグで識別、UI上に**「公式」バッジ**を表示

### 操作権限

| 操作 | MVP | カタログ追加後 |
|------|-----|---------------|
| 閲覧 | ✅ | ✅ |
| 献立表に反映 | ✅ | ✅ |
| 編集 | ❌ | ❌ |
| 削除 | ❌ | ❌ |
| コピーして自分用に編集 | ✅ | ✅ |
| 非表示 | ❌ | ✅ |

※非表示はカタログから再取得できるようになってから解禁

---

## 認証
- **Cognito**を使用（ログイン / 新規登録）
- ログアウトは**ハンバーガーメニュー**から

---

## 通知
- **モーダル通知（トースト）の履歴**がハンバーガーメニューから閲覧できる
- 未読があればメニューアイコンに**バッジ表示**

---

## MVP対象外（後日追加）

### レシピカタログ（パブリック）
- 有料レシピ/有料セットの販売
- 料理家ページ
- メンバーシップ機能
- 購入/保存導線

### マイページ
- プロフィール編集
- ダッシュボード
- 購入履歴/決済履歴
- 支払い登録
- 診断/アーカイブ
- 設定（プッシュ通知ON/OFF等）
